<div class="max-w-5xl mx-auto px-4 sm:px-6 py-8">
  <div class="flex justify-between items-center mb-8">
    <h1 class="page-title">계정 관리</h1>
    <%= link_to new_system_admin_user_path, class: "btn-primary" do %>
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
      새 사용자
    <% end %>
  </div>

  <div class="flex gap-2 mb-6 flex-wrap">
    <%= link_to "전체", system_admin_users_path,
        class: "badge cursor-pointer #{params[:role].blank? ? 'bg-primary-600 text-white' : 'bg-ink-100 text-ink-600 hover:bg-ink-200'}" %>
    <% User.roles.keys.each do |role| %>
      <%= link_to I18n.t("roles.#{role}", default: role), system_admin_users_path(role: role),
          class: "badge cursor-pointer #{params[:role] == role ? 'bg-primary-600 text-white' : 'bg-ink-100 text-ink-600 hover:bg-ink-200'}" %>
    <% end %>
  </div>

  <div class="card-flat overflow-hidden">
    <div class="overflow-x-auto">
      <table class="w-full text-sm">
        <thead>
          <tr class="border-b border-ink-100 bg-ink-100/50">
            <th class="px-5 py-3.5 text-left text-xs font-bold text-ink-500 uppercase tracking-wider">이름</th>
            <th class="px-5 py-3.5 text-left text-xs font-bold text-ink-500 uppercase tracking-wider">이메일</th>
            <th class="px-5 py-3.5 text-left text-xs font-bold text-ink-500 uppercase tracking-wider">역할</th>
            <th class="px-5 py-3.5 text-left text-xs font-bold text-ink-500 uppercase tracking-wider">가입일</th>
            <th class="px-5 py-3.5"></th>
          </tr>
        </thead>
        <tbody class="divide-y divide-ink-100">
          <% @users.each do |user| %>
            <tr class="hover:bg-ink-100/50 transition-colors">
              <td class="px-5 py-3.5 font-semibold text-ink-900"><%= user.name %></td>
              <td class="px-5 py-3.5 text-ink-500"><%= user.email %></td>
              <td class="px-5 py-3.5">
                <span class="badge bg-primary-50 text-primary-700"><%= user.role %></span>
              </td>
              <td class="px-5 py-3.5 text-ink-500"><%= user.created_at.strftime("%Y-%m-%d") %></td>
              <td class="px-5 py-3.5 text-right">
                <%= link_to "보기", system_admin_user_path(user), class: "btn-secondary text-xs" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <p class="mt-4 text-sm text-ink-400">총 <%= @users.count %>명</p>
</div>
